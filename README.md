# SHISHKI_TRAVEL MVP (Telegram Travel Bot + GigaChat multi-agents)

–≠—Ç–æ —Ä–∞–±–æ—á–∏–π MVP —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ Telegram-–±–æ—Ç–∞:

- –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (LLM-router) —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ –±–ª–æ–∫–∏ –Ω—É–∂–Ω—ã: **tourism / legal / weather / route**
- `tourist_agent` –¥–∞—ë—Ç —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–∫—É–ª—å—Ç—É—Ä–∞/—Å–æ–≤–µ—Ç—ã) –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º JSON
- `legal_agent` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **RAG –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ** (Chroma) –∏ –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ** –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑—ã
- `weather_agent` –±–µ—Ä—ë—Ç –ø–æ–≥–æ–¥—É –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API (OpenWeather) –∏ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç
- `route` —É–º–µ–µ—Ç:
  - **–º–∞—Ä—à—Ä—É—Ç –ê ‚Üí –ë** (OSRM + –∫–Ω–æ–ø–∫–∞ Google Maps)
  - **–º–∞—Ä—à—Ä—É—Ç –ø–æ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º** (–ø–æ —Å–ø–∏—Å–∫—É –º–µ—Å—Ç –æ—Ç tourist_agent ‚Üí –≥–µ–æ–∫–æ–¥–∏–Ω–≥ ‚Üí Google Maps URL)
- –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è **–∫–æ–¥–æ–º** (–±–µ–∑ LLM –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —à–∞–≥–µ) –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ Telegram HTML
- –ö–Ω–æ–ø–∫–∏-–º–µ–Ω—é + –ø—Ä–æ—Å—Ç–∞—è –ø–∞–º—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + summary-–ø–∞–º—è—Ç—å

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Windows 11 + VS Code)

### 1) –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–û—Ç–∫—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bat
py -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```

### 2) –ö–ª—é—á–∏
–°–∫–æ–ø–∏—Ä—É–π `.env.example` ‚Üí `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏:

- `TELEGRAM_BOT_TOKEN=...`
- `GIGACHAT_CREDENTIALS=...`  (–í–ê–ñ–ù–û: —ç—Ç–æ **base64 Authorization**, –Ω–µ client_secret –∏ –Ω–µ access token)
- `OPENWEATHER_API_KEY=...` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–≥–æ–¥—É)

### 3) –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ legal (RAG)
–ü–∞–ø–∫–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏: `kb/legal/` (txt/md/pdf ‚Üí –ª—É—á—à–µ txt/md –¥–ª—è MVP)

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å:

```bat
py -m scripts.build_legal_index
```

> –ò–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—ç–º–±–µ–¥–¥–∏–Ω–≥–∏), —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫—É—Å–∫–∏ –ø–æ —Å–º—ã—Å–ª—É.

### 4) –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bat
py bot.py
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –¢—É—Ä–∏–∑–º + –ø–æ–≥–æ–¥–∞ + –≤–∏–∑—ã/–∑–∞–∫–æ–Ω—ã
`–ï–¥—É –≤ –¢–æ–∫–∏–æ –Ω–∞ 5 –¥–Ω–µ–π: —á—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –Ω—É–∂–Ω–∞ –ª–∏ –≤–∏–∑–∞ –∏ –∫–∞–∫–∞—è –ø–æ–≥–æ–¥–∞?`

### –ú–∞—Ä—à—Ä—É—Ç –ê ‚Üí –ë
–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **üó∫Ô∏è –ú–∞—Ä—à—Ä—É—Ç** –∏ –æ—Ç–ø—Ä–∞–≤—å:
`–ê–º—Å—Ç–µ—Ä–¥–∞–º -> –ü–∞—Ä–∏–∂`

### –ú–∞—Ä—à—Ä—É—Ç –ø–æ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º (–∫–∞—Ä—Ç–∞)
`–°–æ—Å—Ç–∞–≤—å –º–∞—Ä—à—Ä—É—Ç –ø–æ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º –Ω–∞ 1 –¥–µ–Ω—å –≤ –ü–∞—Ä–∏–∂–µ`

---

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏

- `bot.py` ‚Äî Telegram –±–æ—Ç (aiogram 3.7+), –∫–Ω–æ–ø–∫–∏, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ Google Maps
- `app/orchestrator.py` ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä: router ‚Üí –∞–≥–µ–Ω—Ç—ã ‚Üí —Å–±–æ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
- `app/agents/*` ‚Äî –∞–≥–µ–Ω—Ç—ã (router/tourist/legal/weather/route/summary)
- `app/route_builder.py` ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ —Å–ø–∏—Å–∫—É –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π ‚Üí Google Maps URL
- `app/rag/*` ‚Äî RAG –¥–ª—è legal (Chroma)


### –ü–æ–≥–æ–¥–∞
–ü–æ–≥–æ–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ –∫–Ω–æ–ø–∫–µ** üå¶Ô∏è –∏ –±–µ—Ä—ë—Ç—Å—è –∏–∑ **Open-Meteo** (–±–µ–∑ –∫–ª—é—á–µ–π).
